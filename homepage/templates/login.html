{% load static %}
{% load crispy_forms_tags %}

<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'bootstrap/bootstrap.min.css' %}">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Main CSS, then Sidebar CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">    
    <link rel="stylesheet" type="text/css" href="{% static 'css/sidebar.css' %}">    
    
    <title>IMS - Login</title>
</head>

<body class="login-page">

    <div class="login-container">
        <div class="login-header">
            <h1 class="login-title">Inventory Management System</h1>
        </div>

        <div class="row d-flex justify-content-center">
            <div class="col-md-6">
                {% if user.is_authenticated %}
                    <div class="logged-in-message">
                        <h2>Welcome back, {{ request.user.username }}!</h2>
                        <div class="button-group">
                            <a class="btn btn-primary" href="{% url 'home' %}">
                                <i class="fas fa-home"></i> Go back home
                            </a>
                            <a class="btn btn-danger" href="{% url 'logout' %}">
                                <i class="fas fa-sign-out-alt"></i> Log Out
                            </a>
                        </div>
                    </div>
                {% else %}
                    <div class="login-form">
                        <form method="POST">
                            {% csrf_token %}
                            <fieldset class="form-group">
                                <legend class="form-legend">
                                    <i class="fas fa-sign-in-alt"></i> Please login to continue...
                                </legend>
                                {{ form|crispy }}
                            </fieldset>
                            <div class="form-group">
                                <button class="btn btn-success btn-lg btn-block" type="submit">
                                    <i class="fas fa-lock"></i> Log In
                                </button>
                            </div>
                        </form>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="{% static 'bootstrap/jquery-3.3.1.slim.min.js' %}"></script>
    <script src="{% static 'bootstrap/popper.min.js' %}"></script>
    <script src="{% static 'bootstrap/bootstrap.min.js' %}"></script>

</body>

</html>